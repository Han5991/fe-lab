## ë“¤ì–´ê°€ë©°

> ê²¨ìš° ë°±ì—”ë“œì˜ ìš”ì²­ì„ ì³ë‚´ê³  ë‹¤ì‹œ í”¼ê³¤ì— ì©”ì€ ëª¨ìŠµìœ¼ë¡œ í…ŒìŠ¤í¬ë¥¼ ë§ˆë¬´ë¦¬ í•˜ë ¤ëŠ” ìˆœê°„ ì´ë²ˆì—” ì œ ìŠ¬ë™ì´ ìš¸ë¦½ë‹ˆë‹¤.  
> [ê¸°íšì]: "ê¸‰í•˜ê²Œ ê¸°íšì´ ë°”ë€Œì–´ì„œìš” ì´ê±° í”„ë¡ ì—ì„œ ì¶”ê°€ë¡œ ìˆ˜ì •í•´ì£¼ì…”ì•¼ í•  ê²ƒ ê°™ì•„. ì•„ì§ ë§ˆë¬´ë¦¬ ë‹¤ ì•ˆ í•˜ì‹ ê±° ë§ì£ ?"
> [ë‚˜]: "ë„¤ ì•„ì§ ë§ˆë¬´ë¦¬ ì•ˆ í–ˆì–´ìš” ìˆ˜ì • ì‚¬í•­ì´ ë­”ê°€ìš”?'  
> [ê¸°íšì]: "ë³„ê±° ì—†ì–´ìš”! ë‹¤ë¥¸ìª½ì— ìˆëŠ” ê·¸ëŒ€ë¡œ ê°€ì ¸ë‹¤ê°€ ë˜‘ê°™ì´ ë§Œë“¤ì–´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆëŠ”ê±°ë¼ ê¸ˆë°© í•˜ì‹œì£ ?"  
> [ë‹ˆ]: "(ê·¸ê±° ê±°ê¸°ì—ë§Œ ì“´ë‹¤ë©°... ê·¸ë˜ì„œ ê·¸ìª½ ë¡œì§í•˜ê³  ë”± ë¶™ì—¬ ë†“ì€ê±´ëŒ€... ) ë„¤ í•˜ì§€ë§Œ ì‹œê°„ì€ ì¢€ ê±¸ë¦´ ê²ƒ ê°™ì•„ìš” PM í•˜ê³  ì´ì—¬ê¸°ëŠ” í•˜ê³  ì˜¤ì‹ ê±°ì£ ?"

> **ì–´ë–»ê²Œ í•˜ë©´ ì´ëŸ° ë¡œì§ì„ ì¬í™œìš©í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ì—†ì„ê¹Œ? ì§€ë‚œë²ˆ APIë„ êµ¬ì¡°ì ìœ¼ë¡œ ì„¤ê³„ í–ˆëŠ”ëŒ€ ì´ê²ƒë„ ê·¸ëŸ´ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?**

[ì´ì „ê¸€](https://velog.io/@rewq5991/typescript-project-api-di-design)ì—ì„œëŠ” Type-Safe Http classì„ ì„¤ê³„í•˜ê³  Typeì„ êµ¬ì¡°ì ìœ¼ë¡œ ì„¤ê³„í•˜ëŠ” ê²ƒì— ëŒ€í•´ ì´ì•¼ê¸° í–ˆìŠµë‹ˆë‹¤.

ì´ë²ˆê¸€ì—ì„œëŠ” í”„ë¡ íŠ¸ì—ì„œ ì“°ì´ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ì„ ë¶„ë¦¬í•˜ëŠ” ë¶€ë¶„ì— ëŒ€í•˜ì—¬ ì´ì•¼ê¸° í•´ë³¼ê¹Œ í•©ë‹ˆë‹¤.

ì—¬ëŸ¬ë¶„ì´ ì—¬ê¸°ê¹Œì§€ ë”°ë¼ì˜¤ì…¨ë‹¤ë©´ ì´ë¯¸ httpì™€ api í˜¸ì¶œë¶€ë¥¼ ë‚˜ëˆ„ì–´ ë†“ì•˜ì„ ê²ƒì…ë‹ˆë‹¤.  
ì¶•í•˜í•©ë‹ˆë‹¤! ë ˆì´ì–´ë¥¼ ë‚˜ëˆ„ì‹ ê±°ê³  ê·¸ëŸ¼ ê·¸ ì´í›„ì— ë¡œì§ì„ ë¶™ì—¬ ë‚˜ê°€ëŠ”ê±´ ë³„ë¡œ ì–´ë µì§€ ì•ŠìŠµë‹ˆë‹¤.
ëŒ€ì‹ ì— ì´ë²ˆ ë ˆì´ì–´ë¥¼ ì €ëŠ” service ë ˆì´ì–´ë¼ê³  ë¶€ë¥´ê³  ì—¬ê¸°ì— ì–´ë–¤ ê²ƒë“¤ì´ ë“¤ì–´ì˜¤ë©´ ì¢‹ì€ì§€ì—ëŒ€í•´ì„œ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

## 3. ë„ë©”ì¸ë³„ API í´ë¼ì´ì–¸íŠ¸ ê³„ì¸µ êµ¬ì¶•

HTTP í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , ë„ë©”ì¸ë³„ API í´ë¼ì´ì–¸íŠ¸ ê³„ì¸µì„ êµ¬ì¶•í•©ë‹ˆë‹¤:

```typescript
// ğŸ“ apps/react/src/server/user/api.ts
interface UserServer {
  createUser: (user: UserReq) => Promise<UserRes>;
}

class UserServerImpl implements UserServer {
  constructor(private api: Http) {}

  async createUser(user: UserReq): Promise<UserRes> {
    const response = await this.api.post<UserRes, UserReq>('/api/user', user);
    return response.data;
  }
}

export const userServer = new UserServerImpl(instance);
```

ì´ ì„¤ê³„ì˜ ì¥ì :

- **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**: HTTP í†µì‹  ë¡œì§ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë¶„ë¦¬ë©ë‹ˆë‹¤.
- **íƒ€ì… ì§‘ì¤‘í™”**: API ê´€ë ¨ íƒ€ì…ì´ í•œ ê³³ì— ì§‘ì¤‘ë˜ì–´ ê´€ë¦¬ê°€ ìš©ì´í•©ë‹ˆë‹¤.
- **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ëª¨í‚¹ì´ ì‰¬ì›Œì ¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ê°„í¸í•´ì§‘ë‹ˆë‹¤.
- **ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ ì„¤ê³„**: êµ¬í˜„ì²´ë¥¼ ì‰½ê²Œ êµì²´í•  ìˆ˜ ìˆì–´ ìœ ì—°ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤.
